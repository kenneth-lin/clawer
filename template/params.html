<div style="height:390px;">
    <form action="" id='form' method="POST">
        <TEXTAREA type="text" id='params' name='params' value=''></TEXTAREA>
        <input type="submit" value='Submit' id="params_submit" onclick='javascipt:updatedInput();' />
    </form>
</div>

<style>
    #params{
        width: 800px;
        height: 330px;
        font-size: 16px;
        padding: 20px;
    }

    #params_submit {
        float: right;
        width: 220px;
        margin: 10px 20px;
        font-size: 30;
    }
</style>

<script>
    document.getElementById("form").setAttribute('action', location.href);
    var cookie_params = decodeURI(getCookie('params'));
    if (cookie_params != "null") {
        document.getElementById("params").value = formatJson(cookie_params);
    } else {
        document.getElementById("params").value = formatJson(JSON.parse(initStartParamsString()));
    }

    document.getElementById("form").setAttribute('action', location.href);

    function updatedInput() {
        setCookie('params', encodeURI(document.getElementById("params").value));
        var update_that = document.getElementById("params").value.replace("\n", '');
        document.getElementById("params").value = update_that;
    }

</script>